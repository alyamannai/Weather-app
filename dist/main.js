window.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("btn"),e=document.getElementById("togBtn");let n,r;t.addEventListener("click",(async()=>{function t(){if(!r)return;const t=r.current.temp_c,n=r.current.feelslike_c,c=r.current.feelslike_f,o=r.current.temp_f;!0===e.checked?(tempT.textContent=o+"F",feel.textContent=c+"F"):(tempT.textContent=t+"C",feel.textContent=n+"C")}!async function(){let e=document.querySelector("#location").value;try{const c=await fetch(`https://api.weatherapi.com/v1/current.json?key=beba686d34eb441a967150455230510&q=${e}`);r=await c.json(),r.error?console.error("Error fetching weather data:",r.error.message):function(){if(!r)return;const e=r.current.humidity,c=r.current.pressure_mb,o=r.current.uv,i=r.current.vis_km;r.current.condition.text,vis.textContent=i,humidityT.textContent=e,uvT.textContent=o,airPressureT.textContent=c,t(),function(){if(!r)return;const t=r.current.condition.icon,e=t.split("/");e.length>=4?n=e.slice(-4).join("/"):console.error("Invalid icon URL:",t)}(),icon.src="../src/"+n}()}catch(t){console.error("Error fetching weather data:",t)}}(),e.addEventListener("change",(()=>{t()}))}))}));