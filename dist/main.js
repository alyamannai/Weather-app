window.addEventListener("DOMContentLoaded",(()=>{document.getElementById("btn");let e=document.getElementById("location");const t=document.getElementById("togBtn");let n,r;function i(){if(!r)return;const e=r.current.temp_c,n=r.current.feelslike_c,i=r.current.feelslike_f,o=r.current.temp_f;!0===t.checked?(tempT.textContent=o+"째",feel.textContent="feels like: "+i+"째"):(tempT.textContent=e+"째",feel.textContent="feels like: "+n+"째")}e.addEventListener("keydown",(async function(t){"Enter"===t.key&&async function(){let t=e.value;try{const e=await fetch(`https://api.weatherapi.com/v1/current.json?key=beba686d34eb441a967150455230510&q=${t}`);r=await e.json(),r.error?console.error("Error fetching weather data:",r.error.message):(function(){if(!r)return;const e=r.current.humidity,t=r.current.pressure_mb,o=r.current.uv,c=r.current.vis_km,s=r.current.condition.text,l=r.location.name;vis.textContent="visibility: "+c+"km",humidityT.textContent="humidity: "+e,uvT.textContent="uv: "+o,airPressureT.textContent="air pressure: "+t+"hPa",countryT.textContent=l,conditionText.textContent=s,i(),function(){if(!r)return;const e=r.current.condition.icon,t=e.split("/");t.length>=4?n=t.slice(-4).join("/"):console.error("Invalid icon URL:",e)}(),icon.src="../src/"+n}(),document.querySelectorAll(".extra").forEach((e=>{e.style.visibility="visible",document.getElementById("small").style.visibility="visible"})))}catch(e){console.error("Error fetching weather data:",e)}}()})),t.addEventListener("change",(()=>{i()}))}));